---
import Layout from '../../layouts/Layout.astro';
import NavBar from '../../components/utils/NavBar/NavBar.astro';
import { getCollection } from 'astro:content';

const posts = (await getCollection('news')).sort(
	(a, b) => b.data.publishedAt.valueOf() - a.data.publishedAt.valueOf()
);
---

<Layout>
	<NavBar />
	<div class="container mx-auto px-4 pt-32 pb-12 max-w-5xl">
		<div class="text-center mb-12">
			<h1 class="text-4xl md:text-5xl font-bold text-[#3776AB] mb-4">News</h1>
		</div>
		<ul class="space-y-8">
			{posts.map((post) => (
				<li class="border-b border-[#3776AB]/10 pb-8">
					<a href={`/news/${post.id}`} class="group block">
						<h2 class="text-2xl font-semibold text-gray-800 group-hover:text-[#3776AB] transition-colors mb-2">
							{post.data.title}
						</h2>
						<time datetime={post.data.publishedAt.toISOString()} class="text-sm text-[#3776AB]/60">
							{post.data.publishedAt.toLocaleDateString('en-US', {
								year: 'numeric',
								month: 'long',
								day: 'numeric',
							})}
						</time>
					</a>
				</li>
			))}
		</ul>
	</div>
</Layout>